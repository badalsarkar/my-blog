{"componentChunkName":"component---src-templates-blog-post-js","path":"/2020/dealing-with-change-request/2020-10-30-Release02-Dealing-With-Change-Request/","result":{"data":{"site":{"siteMetadata":{"title":"Blog of Badal Sarkar"}},"markdownRemark":{"id":"2996438d-50a7-53f9-83e0-d170af13e421","excerpt":"I have been working on an\nissue in an open source\nproject called Butterfly maintained by PayPal. Butterfly is an application code transformation tool, and…","html":"<p>I have been working on an\n<a href=\"https://github.com/paypal/butterfly/issues/214\">issue</a> in an open source\nproject called <a href=\"https://github.com/paypal/butterfly\">Butterfly</a> maintained by PayPal.</p>\n<blockquote>\n<p>Butterfly is an application code transformation tool, and commonly it is used\nto perform automated application migrations, upgrades and source code and\nconfiguration changes.</p>\n</blockquote>\n<p>One of the features of Butterfly is that an application can be upgraded to the\nhighest version currently available or to any version specified by end user. If\na target version is specified by user, it must be validated to make sure that\nthe version exists, it is not older than current version and it is not the same\nas current version. An exception is thrown if any of the checks fails.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/403190e1319fc0e2ed4f46c59b86720e/22475/butterflyException.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 12.025316455696203%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAAAsSAAALEgHS3X78AAAAfUlEQVQI12WOSwrCMBQAe/+r+UUIiNYK2r9pk1hbaV6bMXsXAwOzmSSwEsSj24Zn/qDvNMZYOq0pywJre4a3xTmDyAyEyPpHCEtMCwlyZ51viFGM9YG22lPlG+piG31HWx95NSdsr5BvyscpBqvw44V5ShncGT9dQbI4lvEDZnaX+MHl88AAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Butterfly Exception Message \"\n        title=\"Butterfly Exception Message\"\n        src=\"/static/403190e1319fc0e2ed4f46c59b86720e/f058b/butterflyException.png\"\n        srcset=\"/static/403190e1319fc0e2ed4f46c59b86720e/c26ae/butterflyException.png 158w,\n/static/403190e1319fc0e2ed4f46c59b86720e/6bdcf/butterflyException.png 315w,\n/static/403190e1319fc0e2ed4f46c59b86720e/f058b/butterflyException.png 630w,\n/static/403190e1319fc0e2ed4f46c59b86720e/40601/butterflyException.png 945w,\n/static/403190e1319fc0e2ed4f46c59b86720e/22475/butterflyException.png 1039w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>The issue is that the current exception message is very generic and it needs to\nbe updated based on three different checks mentioned above. More specifically\nthe message should be as following-</p>\n<ul>\n<li>The upgrade version doesn’t exist</li>\n<li>The upgrade version is older than the current version</li>\n<li>The upgrade version is same as current version</li>\n</ul>\n<p>So, I made the following changes which checks if the target version is the same\nas the current version and if the target version is older than the current\nversion.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/9a00885dcf2ec95e154b40d5ace4387f/54c3a/butterflyChange.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 21.51898734177215%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAAAsSAAALEgHS3X78AAAAzElEQVQY04XI2VKDMACFYd7/4TqKdRwoi5YQQgKEJmwFpr/YC8c7L745SzCMnrKuaPsO6xymazC2xY0O63vmdWF7bGzs/3vsBMUoyHTMi/rgVJ45yXdCHRE2KW9d/hRPJdmquMySdKlIjkwmSTwe/88+enavKDEE1huMLsiqnERmv1KRc60FujcH/WRcQ33TKN+gx456aGkm++ztbHG7Jxi9xTeKWkuEvCKVoFQFcfJKkoTk2ZlLGiK+Ij5FhCpzptmxrAPz/S/PtHi+ARTbLKo3AYvMAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Butterfly Change \"\n        title=\"Butterfly\n    Change\"\n        src=\"/static/9a00885dcf2ec95e154b40d5ace4387f/f058b/butterflyChange.png\"\n        srcset=\"/static/9a00885dcf2ec95e154b40d5ace4387f/c26ae/butterflyChange.png 158w,\n/static/9a00885dcf2ec95e154b40d5ace4387f/6bdcf/butterflyChange.png 315w,\n/static/9a00885dcf2ec95e154b40d5ace4387f/f058b/butterflyChange.png 630w,\n/static/9a00885dcf2ec95e154b40d5ace4387f/40601/butterflyChange.png 945w,\n/static/9a00885dcf2ec95e154b40d5ace4387f/54c3a/butterflyChange.png 1257w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>To check if target version is older, I have used a library function. String\ncomparison would not work here. I have used\n<a href=\"https://mvnrepository.com/artifact/org.gradle/gradle-core/6.1.1\">Gradle-Core</a>\nlibrary’s <a href=\"https://github.com/gradle/gradle/blob/master/subprojects/core/src/main/java/org/gradle/util/VersionNumber.java\"><code class=\"language-text\">VersionNumber</code></a>\nclass.</p>\n<p>I have also added the following test cases-</p>\n<script src=\"https://gist.github.com/badalsarkar/1d396887e2b1142fad732952c9b764ae.js\"></script>\n<p>Once everything was done, I created my <a href=\"https://github.com/paypal/butterfly/pull/362\">PR</a>.</p>\n<h4>Change Request from Maintainer</h4>\n<p>The maintainer made some change requests to my <a href=\"https://github.com/paypal/butterfly/pull/362\">PR</a>.\nOne of the change requests was regarding the library.\n<a href=\"https://mvnrepository.com/artifact/org.gradle/gradle-core/6.1.1\">Gradle-Core</a>\nis not a heavy library but it has many <a href=\"https://en.wikipedia.org/wiki/Transitive_dependency\">transitive\ndependencies</a>.\nThe maintainer suggested to look for a different solution as he doesn’t want to\nadd those transitive dependencies as it will increase the memory footprint of\nthe application. I responded saying that I could implement the function or I can\nuse another <a href=\"https://github.com/G00fY2/version-compare\">library</a> that I found\nthat doesn’t have any dependencies. He suggested to use the library. I am in the\nprocess of making necessary change and once done, I will update my PR.</p>","frontmatter":{"title":"Release 0.2- Fixing Bug and Dealing with Change Request in Open Source Project: Butterfly","date":"October 31, 2020","description":null}},"previous":{"fields":{"slug":"/2020/fixing-bug-in-butterfly/2020-10-30-Release02-Fixing-Bug/"},"frontmatter":{"title":"Release 0.2- Fixing Bug in an Open Source Project"}},"next":{"fields":{"slug":"/2020/release-02-recap/2020-10-30-Release02-Recap/"},"frontmatter":{"title":"Release 0.2-Recap"}}},"pageContext":{"id":"2996438d-50a7-53f9-83e0-d170af13e421","previousPostId":"0ab74d34-8ab6-501a-b1b0-b2126d119184","nextPostId":"51b61d71-b18d-5417-b6c9-18ab2dd5b129"}},"staticQueryHashes":["2841359383","916993862"]}